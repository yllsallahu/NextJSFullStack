#!/bin/bash

echo "üîç VERCEL DEPLOYMENT TROUBLESHOOTING"
echo "===================================="
echo ""
echo "Let's diagnose what's still not working..."
echo ""

# Check if we can reach the site
echo "1. üåê Testing if your site is accessible..."
curl -I https://next-js-full-stack-blog.vercel.app 2>/dev/null | head -1 || echo "‚ùå Site not accessible"

echo ""
echo "2. üîç Common issues to check:"
echo ""
echo "üìã ENVIRONMENT VARIABLES CHECKLIST:"
echo "   ‚ñ° NEXTAUTH_SECRET - Added to Vercel?"
echo "   ‚ñ° NEXTAUTH_URL - Set to https://next-js-full-stack-blog.vercel.app?"
echo "   ‚ñ° MONGODB_URI - Added to Vercel?"
echo "   ‚ñ° All variables set for Production, Preview, AND Development?"
echo ""
echo "üìã VERCEL SETTINGS CHECKLIST:"
echo "   ‚ñ° Root Directory set to 'blog'?"
echo "   ‚ñ° Did you redeploy after adding environment variables?"
echo "   ‚ñ° Build completed successfully?"
echo ""
echo "üìã SPECIFIC CHECKS NEEDED:"
echo "   ‚ñ° Check Vercel build logs for errors"
echo "   ‚ñ° Check runtime logs for errors"
echo "   ‚ñ° Test specific endpoints"
echo ""
echo "üö® CRITICAL QUESTIONS:"
echo "   1. Did you add the environment variables to VERCEL dashboard (not just local .env)?"
echo "   2. Did you redeploy AFTER adding the environment variables?"
echo "   3. What specific error are you seeing now?"
echo ""
echo "üîß NEXT STEPS:"
echo "   1. Go to https://vercel.com/dashboard"
echo "   2. Find your project"
echo "   3. Check Settings ‚Üí Environment Variables"
echo "   4. Verify all 5 variables are there"
echo "   5. Check latest deployment logs"
echo ""
echo "üìû PLEASE SHARE:"
echo "   - What error message you're seeing now"
echo "   - Screenshot of your Vercel environment variables"
echo "   - Any error logs from Vercel dashboard"
